{# Motions section for party detail page.
   Expects: party, motion_summary, recent_motions, motion_count #}
<div class="bg-white rounded-lg shadow p-6 mb-6">
    <h2 class="text-lg font-semibold mb-2">Moties & Amendementen</h2>

    {% if motion_summary %}
    <div class="prose prose-sm max-w-none text-gray-700 mb-4">{{ motion_summary | markdown }}</div>
    {% endif %}

    {% if recent_motions %}
    <div class="space-y-2 mb-4">
        {% for motion in recent_motions %}
        <a href="/moties/{{ motion.id }}" class="block p-3 rounded border hover:bg-gray-50 transition">
            <div class="flex items-start justify-between gap-2">
                <span class="text-sm text-gray-900 line-clamp-1">{{ motion.title }}</span>
                <div class="flex gap-1 flex-shrink-0">
                    {% if motion.motion_type %}
                    <span class="text-xs px-1.5 py-0.5 rounded {% if motion.motion_type == 'Motie' %}bg-blue-100 text-blue-700{% else %}bg-purple-100 text-purple-700{% endif %}">
                        {{ motion.motion_type }}
                    </span>
                    {% endif %}
                    {% if motion.result %}
                    <span class="text-xs px-1.5 py-0.5 rounded {% if motion.result|lower == 'aangenomen' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %}">
                        {{ motion.result|capitalize }}
                    </span>
                    {% endif %}
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
    {% endif %}

    {% if motion_count > 0 %}
    <a href="/moties/?party_id={{ party.id }}" class="text-sm text-blue-600 hover:underline">
        Bekijk alle {{ motion_count }} moties &rarr;
    </a>
    {% else %}
    <p class="text-sm text-gray-500">Geen moties gevonden voor deze partij.</p>
    {% endif %}
</div>
