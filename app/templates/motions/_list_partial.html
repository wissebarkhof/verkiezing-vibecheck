<p class="text-sm text-gray-500 mb-4">{{ total }} resultaten</p>

{% if motions %}
<div class="space-y-3">
    {% for motion in motions %}
    <a href="/moties/{{ motion.id }}" class="block bg-white rounded-lg shadow p-4 hover:shadow-md transition">
        <div class="flex items-start justify-between gap-3">
            <div class="min-w-0">
                <h3 class="font-medium text-gray-900 line-clamp-2">{{ motion.title }}</h3>
                <div class="flex flex-wrap gap-2 mt-2 text-xs">
                    {% if motion.motion_type %}
                    <span class="px-2 py-0.5 rounded-full {% if motion.motion_type == 'Motie' %}bg-blue-100 text-blue-700{% else %}bg-purple-100 text-purple-700{% endif %}">
                        {{ motion.motion_type }}
                    </span>
                    {% endif %}
                    {% if motion.result %}
                    <span class="px-2 py-0.5 rounded-full {% if motion.result|lower == 'aangenomen' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %}">
                        {{ motion.result|capitalize }}
                    </span>
                    {% endif %}
                    {% if motion.submission_date %}
                    <span class="text-gray-400">{{ motion.submission_date.strftime('%d-%m-%Y') }}</span>
                    {% endif %}
                </div>
                {% if motion.parties %}
                <div class="flex flex-wrap gap-1 mt-2">
                    {% for mp in motion.parties %}
                    <span class="text-xs text-gray-500">
                        {% if mp.party %}{{ mp.party.abbreviation }}{% else %}{{ mp.notubiz_party_name }}{% endif %}{% if not loop.last %},{% endif %}
                    </span>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>
    </a>
    {% endfor %}
</div>

{# Pagination #}
{% if total_pages > 1 %}
<div class="flex justify-center gap-2 mt-6">
    {% if page > 1 %}
    <a href="/moties/?page={{ page - 1 }}&type={{ filter_type }}&result={{ filter_result }}&party_id={{ filter_party_id or '' }}&q={{ filter_q }}"
       class="px-3 py-1 border rounded text-sm hover:bg-gray-100">&laquo; Vorige</a>
    {% endif %}
    <span class="px-3 py-1 text-sm text-gray-500">Pagina {{ page }} van {{ total_pages }}</span>
    {% if page < total_pages %}
    <a href="/moties/?page={{ page + 1 }}&type={{ filter_type }}&result={{ filter_result }}&party_id={{ filter_party_id or '' }}&q={{ filter_q }}"
       class="px-3 py-1 border rounded text-sm hover:bg-gray-100">Volgende &raquo;</a>
    {% endif %}
</div>
{% endif %}

{% else %}
<p class="text-gray-500 text-sm">Geen moties gevonden met deze filters.</p>
{% endif %}
