{% extends "base.html" %}

{% block title %}Vergelijk â€” Verkiezing Vibecheck{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold text-gray-900 mb-6">Partijen vergelijken</h1>

{% set card_gradients = [
    'linear-gradient(90deg,#a0f5e9,#9ddcf2)',
    'linear-gradient(90deg,#9ddcf2,#a6a0f5)',
    'linear-gradient(90deg,#a6a0f5,#eaa0f5)',
    'linear-gradient(90deg,#eaa0f5,#99f09f)',
    'linear-gradient(90deg,#99f09f,#f5ad6e)',
    'linear-gradient(90deg,#f5ad6e,#a0f5e9)',
] %}

{% if comparisons %}
    <div class="space-y-6">
        {% for comparison in comparisons %}
        <div class="bg-white rounded-lg border border-gray-200 card-accent-top p-6"
             style="--card-accent: {{ card_gradients[loop.index0 % 6] }}">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">{{ comparison.topic_name }}</h2>
            {% if comparison.comparison_json %}
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    {% for party_name, position in comparison.comparison_json.items() %}
                        {% if party_name != 'raw_response' %}
                        <div class="rounded-lg border border-gray-100 p-4 bg-white">
                            <h3 class="text-sm font-semibold text-gray-900 mb-2">{{ party_name }}</h3>
                            <div class="prose prose-sm max-w-none text-gray-600">{{ position | markdown }}</div>
                        </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
{% else %}
    <p class="text-gray-500">Nog geen vergelijkingen beschikbaar. Voer het vergelijkingsscript uit om data te genereren.</p>
{% endif %}
{% endblock %}
